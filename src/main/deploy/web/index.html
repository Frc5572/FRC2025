<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coral Selector</title>
    <style>
        body {
            overflow: hidden;
            background-color: #1e1e1e;
        }

        #side {
            position: absolute;
            right: 0;
            top: 0;
            height: 100vh;
            width: calc(20vw - 7px);
            display: flex;
            flex-direction: column;
            align-items: center;
            /* justify-content: center; */
        }

        p {
            color: white;
        }

        .bad {
            background-color: #770000;
        }

        body.side-red path.team_color {
            fill: red;
        }

        body.side-blue path.team_color {
            fill: blue;
        }
    </style>
</head>

<body class="side-blue">
    <svg id="main" xmlns="http://www.w3.org/2000/svg" width="1920" height="1080" viewBox="0 0 1920 1080"
        style="position:absolute; left: 0; top: 0;">
        <g transform="translate(0, 1080)">
            <g transform="scale(1, -1)">
                <g id="outline">
                    <path class="team_color"
                        d="M30.3436,526.262L277.608,954.446L772.132,954.449L1019.39,526.267L772.127,98.0834L277.603,98.0807ZM51.1453,526.259L288.001,116.088L761.723,116.093L998.589,526.271L761.73,936.437L288.011,936.436Z"
                        fill="black" />
                </g>
                <g id="base-grey">
                    <path
                        d="M180.771,526.275L352.819,824.209L696.915,824.21L868.966,526.274L696.917,228.341L352.818,228.342Z"
                        fill="gray" stroke="gray" strokeWidth="8.42px" />
                </g>
                <g id="base-team">
                    <path class="team_color"
                        d="M335.708,526.271L430.29,690.057L619.453,690.057L714.037,526.27L619.455,362.485L430.29,362.486Z"
                        fill="black" />
                </g>
                <g id="algae1">
                    <path
                        d="M274.3450012207031,585.6031494140625C239.03500366210938,605.9852905273438,226.9225311279297,651.1790161132812,247.3090057373047,686.4818725585938C267.69549560546875,721.784912109375,312.89910888671875,733.89453125,348.2093811035156,713.512451171875C383.5196228027344,693.1304931640625,395.6317138671875,647.936767578125,375.2452392578125,612.6337280273438C354.8590087890625,577.3308715820312,309.6549987792969,565.2212524414062,274.3450012207031,585.6031494140625"
                        fill="green" />
                </g>
                <g id="algae2">
                    <path
                        d="M451.00177001953125,772.8541259765625C451.00177001953125,813.6181640625,484.09283447265625,846.7020874023438,524.8657836914062,846.7020874023438C565.6387939453125,846.7020874023438,598.7298583984375,813.6181640625,598.7298583984375,772.8541259765625C598.7298583984375,732.0899047851562,565.6387939453125,699.0059814453125,524.8657836914062,699.0059814453125C484.09283447265625,699.0059814453125,451.00177001953125,732.0899047851562,451.00177001953125,772.8541259765625"
                        fill="green" />
                </g>
                <g id="algae3">
                    <path
                        d="M775.3933715820312,585.5982666015625C740.0831298828125,565.2163696289062,694.8800048828125,577.3259887695312,674.4935302734375,612.6288452148438C654.1069946289062,647.931884765625,666.2191162109375,693.1256103515625,701.5293579101562,713.5075073242188C736.8396606445312,733.8896484375,782.0427856445312,721.780029296875,802.4293212890625,686.4769897460938C822.815673828125,651.1739501953125,810.70361328125,605.9804077148438,775.3933715820312,585.5982666015625"
                        fill="green" />
                </g>
                <g id="algae4">
                    <path
                        d="M701.52587890625,339.022216796875C666.215576171875,359.404296875,654.103515625,404.5980224609375,674.4900512695312,439.90087890625C694.8765258789062,475.2039794921875,740.0796508789062,487.3135986328125,775.389892578125,466.93145751953125C810.7001953125,446.549560546875,822.812255859375,401.3558349609375,802.42578125,366.052734375C782.039306640625,330.7498779296875,736.8361206054688,318.6402587890625,701.52587890625,339.022216796875"
                        fill="green" />
                </g>
                <g id="algae5">
                    <path
                        d="M451.00177001953125,279.692626953125C451.00177001953125,320.4566650390625,484.09283447265625,353.54052734375,524.8657836914062,353.54052734375C565.6387939453125,353.54052734375,598.7298583984375,320.4566650390625,598.7298583984375,279.692626953125C598.7298583984375,238.9283447265625,565.6387939453125,205.844482421875,524.8657836914062,205.844482421875C484.09283447265625,205.844482421875,451.00177001953125,238.9283447265625,451.00177001953125,279.692626953125"
                        fill="green" />
                </g>
                <g id="algae6">
                    <path
                        d="M348.2127685546875,339.0179443359375C312.90252685546875,318.6358642578125,267.6993713378906,330.74566650390625,247.31292724609375,366.04852294921875C226.92645263671875,401.3515625,239.0385284423828,446.54510498046875,274.3487854003906,466.92724609375C309.6590576171875,487.309326171875,354.8621826171875,475.19970703125,375.2486877441406,439.89666748046875C395.6351013183594,404.59381103515625,383.5230407714844,359.40008544921875,348.2127685546875,339.0179443359375"
                        fill="green" />
                </g>
                <g id="branch1">
                    <path
                        d="M401.67413330078125,676.417724609375C405.9881591796875,673.927490234375,407.4653015136719,668.4161376953125,404.9791259765625,664.11083984375C402.4929504394531,659.8057250976562,396.9803771972656,658.3289184570312,392.6663513183594,660.8189697265625C392.6663513183594,660.8189697265625,299.0701599121094,714.845458984375,299.0701599121094,714.845458984375C294.7563171386719,717.3356323242188,293.2791748046875,722.8468627929688,295.7653503417969,727.15234375C298.25152587890625,731.4573974609375,303.76409912109375,732.9342041015625,308.07794189453125,730.4442138671875C308.07794189453125,730.4442138671875,401.67413330078125,676.417724609375,401.67413330078125,676.417724609375"
                        fill="purple" />
                </g>
                <g id="branch2">
                    <path
                        d="M342.2226867675781,573.4669189453125C346.5367431640625,570.9766845703125,348.0138854980469,565.4652709960938,345.5277099609375,561.1600341796875C343.0415344238281,556.8549194335938,337.5289611816406,555.3781127929688,333.2149353027344,557.8681030273438C333.2149353027344,557.8681030273438,239.6187286376953,611.8945922851562,239.6187286376953,611.8945922851562C235.3048858642578,614.3848266601562,233.82774353027344,619.89599609375,236.3139190673828,624.2014770507812C238.80007934570312,628.506591796875,244.3126678466797,629.9833984375,248.62649536132812,627.4933471679688C248.62649536132812,627.4933471679688,342.2226867675781,573.4669189453125,342.2226867675781,573.4669189453125"
                        fill="purple" />
                </g>
                <g id="branch3">
                    <path
                        d="M333.21270751953125,494.6717529296875C337.5267333984375,497.1619873046875,343.039306640625,495.6851806640625,345.5254821777344,491.3798828125C348.0116271972656,487.0748291015625,346.5345153808594,481.563232421875,342.2204895019531,479.072998046875C342.2204895019531,479.072998046875,248.62429809570312,425.04693603515625,248.62429809570312,425.04693603515625C244.31045532226562,422.55670166015625,238.79782104492188,424.0335693359375,236.31170654296875,428.33880615234375C233.82553100585938,432.6439208984375,235.30267333984375,438.155517578125,239.61651611328125,440.6455078125C239.61651611328125,440.6455078125,333.21270751953125,494.6717529296875,333.21270751953125,494.6717529296875"
                        fill="purple" />
                </g>
                <g id="branch4">
                    <path
                        d="M392.66400146484375,391.720947265625C396.97802734375,394.2110595703125,402.4905700683594,392.734375,404.976806640625,388.4293212890625C407.4629211425781,384.12384033203125,405.98583984375,378.6124267578125,401.6717834472656,376.1224365234375C401.6717834472656,376.1224365234375,308.0755920410156,322.095947265625,308.0755920410156,322.095947265625C303.7617492675781,319.60595703125,298.2491149902344,321.082763671875,295.76300048828125,325.38800048828125C293.2768249511719,329.69329833984375,294.75396728515625,335.2044677734375,299.06781005859375,337.6947021484375C299.06781005859375,337.6947021484375,392.66400146484375,391.720947265625,392.66400146484375,391.720947265625"
                        fill="purple" />
                </g>
                <g id="branch5">
                    <path
                        d="M474.42803955078125,236.4678955078125C474.42803955078125,231.48760986328125,470.3926086425781,227.452880859375,465.4202575683594,227.452880859375C460.4479064941406,227.452880859375,456.4124755859375,231.48760986328125,456.4124755859375,236.4678955078125C456.4124755859375,236.4678955078125,456.4124755859375,344.52044677734375,456.4124755859375,344.52044677734375C456.4124755859375,349.500732421875,460.4479064941406,353.53546142578125,465.4202575683594,353.53546142578125C470.3926086425781,353.53546142578125,474.42803955078125,349.500732421875,474.42803955078125,344.52044677734375C474.42803955078125,344.52044677734375,474.42803955078125,236.4678955078125,474.42803955078125,236.4678955078125"
                        fill="purple" />
                </g>
                <g id="branch6">
                    <path
                        d="M593.3306884765625,236.4678955078125C593.3306884765625,231.48760986328125,589.2952880859375,227.452880859375,584.3229370117188,227.452880859375C579.3505859375,227.452880859375,575.3151245117188,231.48760986328125,575.3151245117188,236.4678955078125C575.3151245117188,236.4678955078125,575.3151245117188,344.52044677734375,575.3151245117188,344.52044677734375C575.3151245117188,349.500732421875,579.3505859375,353.53546142578125,584.3229370117188,353.53546142578125C589.2952880859375,353.53546142578125,593.3306884765625,349.500732421875,593.3306884765625,344.52044677734375C593.3306884765625,344.52044677734375,593.3306884765625,236.4678955078125,593.3306884765625,236.4678955078125"
                        fill="purple" />
                </g>
                <g id="branch7">
                    <path
                        d="M750.6809692382812,337.69317626953125C754.9949951171875,335.2030029296875,756.47216796875,329.69158935546875,753.9859619140625,325.38629150390625C751.4998168945312,321.0811767578125,745.9872436523438,319.6043701171875,741.6731567382812,322.09442138671875C741.6731567382812,322.09442138671875,648.0769653320312,376.12091064453125,648.0769653320312,376.12091064453125C643.7631225585938,378.611083984375,642.2860107421875,384.122314453125,644.7721557617188,388.42779541015625C647.2583618164062,392.73291015625,652.7709350585938,394.209716796875,657.0847778320312,391.71966552734375C657.0847778320312,391.71966552734375,750.6809692382812,337.69317626953125,750.6809692382812,337.69317626953125"
                        fill="purple" />
                </g>
                <g id="branch8">
                    <path
                        d="M810.13232421875,440.644287109375C814.4463500976562,438.154052734375,815.9234619140625,432.6427001953125,813.4373168945312,428.33740234375C810.951171875,424.03228759765625,805.4385986328125,422.55548095703125,801.1245727539062,425.0455322265625C801.1245727539062,425.0455322265625,707.5283203125,479.072021484375,707.5283203125,479.072021484375C703.2144775390625,481.56219482421875,701.7373657226562,487.0733642578125,704.2235107421875,491.37890625C706.709716796875,495.6839599609375,712.2222900390625,497.1607666015625,716.5361328125,494.6707763671875C716.5361328125,494.6707763671875,810.13232421875,440.644287109375,810.13232421875,440.644287109375"
                        fill="purple" />
                </g>
                <g id="branch9">
                    <path
                        d="M801.1221923828125,627.4944458007812C805.4362182617188,629.9844360351562,810.94873046875,628.5078125,813.4349365234375,624.2027587890625C815.9209594726562,619.8972778320312,814.4439697265625,614.3858642578125,810.1299438476562,611.8958740234375C810.1299438476562,611.8958740234375,716.53369140625,557.869384765625,716.53369140625,557.869384765625C712.2198486328125,555.3793334960938,706.7072143554688,556.8561401367188,704.2211303710938,561.1614379882812C701.7349243164062,565.4667358398438,703.2120971679688,570.9779052734375,707.5259399414062,573.4681396484375C707.5259399414062,573.4681396484375,801.1221923828125,627.4944458007812,801.1221923828125,627.4944458007812"
                        fill="purple" />
                </g>
                <g id="branch10">
                    <path
                        d="M741.6710205078125,730.4453125C745.9850463867188,732.935546875,751.4976806640625,731.458740234375,753.9838256835938,727.1534423828125C756.469970703125,722.848388671875,754.9928588867188,717.3367919921875,750.6788330078125,714.8465576171875C750.6788330078125,714.8465576171875,657.0826416015625,660.8204956054688,657.0826416015625,660.8204956054688C652.768798828125,658.3302612304688,647.2561645507812,659.8070678710938,644.77001953125,664.1123657226562C642.2838745117188,668.4174194335938,643.760986328125,673.9290161132812,648.0748291015625,676.4190673828125C648.0748291015625,676.4190673828125,741.6710205078125,730.4453125,741.6710205078125,730.4453125"
                        fill="purple" />
                </g>
                <g id="branch11">
                    <path
                        d="M593.3306884765625,708.014892578125C593.3306884765625,703.03466796875,589.2952880859375,698.9998779296875,584.3229370117188,698.9998779296875C579.3505859375,698.9998779296875,575.3151245117188,703.03466796875,575.3151245117188,708.014892578125C575.3151245117188,708.014892578125,575.3151245117188,816.0674438476562,575.3151245117188,816.0674438476562C575.3151245117188,821.0477294921875,579.3505859375,825.0824584960938,584.3229370117188,825.0824584960938C589.2952880859375,825.0824584960938,593.3306884765625,821.0477294921875,593.3306884765625,816.0674438476562C593.3306884765625,816.0674438476562,593.3306884765625,708.014892578125,593.3306884765625,708.014892578125"
                        fill="purple" />
                </g>
                <g id="branch12">
                    <path
                        d="M474.42803955078125,708.014892578125C474.42803955078125,703.03466796875,470.3926086425781,698.9998779296875,465.4202575683594,698.9998779296875C460.4479064941406,698.9998779296875,456.4124755859375,703.03466796875,456.4124755859375,708.014892578125C456.4124755859375,708.014892578125,456.4124755859375,816.0674438476562,456.4124755859375,816.0674438476562C456.4124755859375,821.0477294921875,460.4479064941406,825.0824584960938,465.4202575683594,825.0824584960938C470.3926086425781,825.0824584960938,474.42803955078125,821.0477294921875,474.42803955078125,816.0674438476562C474.42803955078125,816.0674438476562,474.42803955078125,708.014892578125,474.42803955078125,708.014892578125"
                        fill="purple" />
                </g>
                <g id="full-branch">
                    <path
                        d="M1186.37,218.97L1186.37,398.541L1124.3,450.363L1135.36,464.402L1186.37,421.344L1186.37,619.695L1118.8,683.999L1132.05,696.713L1186.37,643.718L1186.37,844.461L1114.83,905.405L1114.83,1002.77L1134.83,1002.12L1134.83,913.29L1206.37,852.347L1206.37,218.97Z"
                        fill="purple" />
                </g>
                <g id="side-base">
                    <path d="M1069.26,220.286L1297.95,220.286L1297.95,0L1069.26,0Z" fill="gray" />
                </g>

                <!-- Selector bg -->
                <g id="selector-a-bg">
                    <path d="M524.873,526.271L524.873,0L220.581,0Z" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-b-bg">
                    <path d="M524.873,526.271L829.164,0L524.873,0Z" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-c-bg">
                    <path d="M524.873,526.271L1062.75,215.725L1062.75,0L829.164,0Z" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-d-bg">
                    <path d="M524.873,526.271L1062.75,526.271L1062.75,215.725Z" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-e-bg">
                    <path d="M524.873,526.271L1062.75,836.817L1062.75,526.271Z" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-f-bg">
                    <path d="M524.873,526.271L843.197,1077.62L1062.75,1077.62L1062.75,836.817Z" stroke="black"
                        stroke-width="8px" fill="transparent" />
                </g>
                <g id="selector-g-bg">
                    <path d="M524.873,526.271L524.873,1077.62L843.197,1077.62Z" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-h-bg">
                    <path d="M524.873,526.271L206.548,1077.62L524.873,1077.62Z" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-i-bg">
                    <path d="M524.873,526.271L0,829.302L0,1077.62L206.548,1077.62Z" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-j-bg">
                    <path d="M524.873,526.271L0,526.271L0,829.302Z" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-k-bg">
                    <path d="M524.873,526.271L0,223.24L0,526.271Z" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-l-bg">
                    <path d="M524.873,526.271L220.581,0L0,0L0,223.24 mZ" stroke="black" stroke-width="8px"
                        fill="transparent" />
                </g>
                <g id="selector-l1-bg">
                    <path d="M1073.13,0L1073.13,268.823L1294.5,268.823L1294.5,0Z" stroke="black" stroke-width="8px"
                        fill="transparent">
                    </path>
                </g>
                <g id="selector-l2-bg">
                    <path d="M1073.13,268.823L1073.13,538.423L1294.5,538.423L1294.5,268.823Z" stroke="black"
                        stroke-width="8px" fill="transparent">
                    </path>
                </g>
                <g id="selector-l3-bg">
                    <path d="M1073.13,538.423L1073.13,808.023L1294.5,808.023L1294.5,538.423Z" stroke="black"
                        stroke-width="8px" fill="transparent">
                    </path>
                </g>
                <g id="selector-l4-bg">
                    <path d="M1073.13,808.023L1073.13,1077.62L1294.5,1077.62L1294.5,808.023Z" stroke="black"
                        stroke-width="8px" fill="transparent">
                    </path>
                </g>

                <!-- Selector fg -->
                <g id="selector-a" style="display: none">
                    <path d="M524.873,526.271L524.873,0L220.581,0Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-b" style="display: none">
                    <path d="M524.873,526.271L829.164,0L524.873,0Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-c" style="display: none">
                    <path d="M524.873,526.271L1062.75,215.725L1062.75,0L829.164,0Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-d" style="display: none">
                    <path d="M524.873,526.271L1062.75,526.271L1062.75,215.725Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-e" style="display: none">
                    <path d="M524.873,526.271L1062.75,836.817L1062.75,526.271Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-f" style="display: none">
                    <path d="M524.873,526.271L843.197,1077.62L1062.75,1077.62L1062.75,836.817Z" stroke="red"
                        stroke-width=" 8px" fill="transparent" />
                </g>
                <g id="selector-g" style="display: none">
                    <path d="M524.873,526.271L524.873,1077.62L843.197,1077.62Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-h" style="display: none">
                    <path d="M524.873,526.271L206.548,1077.62L524.873,1077.62Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-i" style="display: none">
                    <path d="M524.873,526.271L0,829.302L0,1077.62L206.548,1077.62Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-j" style="display: none">
                    <path d="M524.873,526.271L0,526.271L0,829.302Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-k" style="display: none">
                    <path d="M524.873,526.271L0,223.24L0,526.271Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-l" style="display: none">
                    <path d="M524.873,526.271L220.581,0L0,0L0,223.24Z" stroke="red" stroke-width=" 8px"
                        fill="transparent" />
                </g>
                <g id="selector-l1" style="display: none">
                    <path d="M1073.13,0L1073.13,268.823L1294.5,268.823L1294.5,0Z" stroke="red" stroke-width="8px"
                        fill="transparent">
                    </path>
                </g>
                <g id="selector-l2" style="display: none">
                    <path d="M1073.13,268.823L1073.13,538.423L1294.5,538.423L1294.5,268.823Z" stroke="red"
                        stroke-width="8px" fill="transparent">
                    </path>
                </g>
                <g id="selector-l3" style="display: none">
                    <path d="M1073.13,538.423L1073.13,808.023L1294.5,808.023L1294.5,538.423Z" stroke="red"
                        stroke-width="8px" fill="transparent">
                    </path>
                </g>
                <g id="selector-l4" style="display: none">
                    <path d="M1073.13,808.023L1073.13,1077.62L1294.5,1077.62L1294.5,808.023Z" stroke="red"
                        stroke-width="8px" fill="transparent">
                    </path>
                </g>
            </g>
        </g>
    </svg>
    <div id="side">
        <p>Status: <span id="status" class="bad">Not Connected</span></p>
    </div>
    <script type="module">
        // import { NT4_Client } from "./NT4.js"

        // let status = document.getElementById("status");

        // let client = new NT4_Client(
        //     window.location.hostname,
        //     "coral-selector",
        //     (topic) => {
        //         // Topic announce
        //     },
        //     (topic) => {
        //         // Topic unannounce
        //     },
        //     (topic, timestamp, value) => {
        //         // Topic data
        //     },
        //     () => {
        //         // Connected
        //         status.classList.remove("bad");
        //         status.innerText = "Connected";
        //     },
        //     () => {
        //         // Disconnected
        //         status.classList.add("bad");
        //         status.innerText = "Not Connected";
        //     }
        // );

        // window.addEventListener("load", () => {
        //     // client.subscribe([], false, false, 0.02);
        //     client.publishTopic("/coral-selector/coralSide", "int");
        //     client.publishTopic("/coral-selector/coralHeightAndLR", "int");
        //     client.connect();
        // })

        let selectedReef = -1;
        let selectedLevel = -1;

        function redraw() {
            for (let i = 0; i < 12; i++) {
                let disp = selectedReef == i ? "block" : "none";
                document.getElementById("selector-" + String.fromCharCode('a'.charCodeAt(0) + i)).style.display = disp;
            }
            for (let i = 0; i < 4; i++) {
                let disp = selectedLevel == i ? "block" : "none";
                document.getElementById("selector-l" + (i + 1)).style.display = disp;

            }
        }

        document.getElementById("main").addEventListener("click", (ev) => {
            let x = ev.clientX;
            let y = 1080 - ev.clientY;

            if (x < 1062) {
                // In reef
                let cx = x - 524.873;
                let cy = y - 526.271;
                let t1 = cx < 0.0;
                let t2 = cy < 0.0;
                let t3 = Math.abs(cy) < Math.abs(cx) * 1.732037169676;
                let t4 = Math.abs(cy) < Math.abs(cx) * 0.577355045856;

                if (t1) {
                    if (t2) {
                        if (t3) {
                            if (t4) {
                                selectedReef = 10;
                            } else {
                                selectedReef = 11;
                            }
                        } else {
                            selectedReef = 0;
                        }
                    } else {
                        if (t3) {
                            if (t4) {
                                selectedReef = 9;
                            } else {
                                selectedReef = 8;
                            }
                        } else {
                            selectedReef = 7;
                        }
                    }
                } else {
                    if (t2) {
                        if (t3) {
                            if (t4) {
                                selectedReef = 3;
                            } else {
                                selectedReef = 2;
                            }
                        } else {
                            selectedReef = 1;
                        }
                    } else {
                        if (t3) {
                            if (t4) {
                                selectedReef = 4;
                            } else {
                                selectedReef = 5;
                            }
                        } else {
                            selectedReef = 6;
                        }
                    }
                }

                redraw();
            } else if (x < 1294.5) {
                // In branch
                console.log(y);
                if (y > 538.423) {
                    if (y > 808.023) {
                        selectedLevel = 3;
                    } else {
                        selectedLevel = 2;
                    }
                } else {
                    if (y > 268.823) {
                        selectedLevel = 1;
                    } else {
                        selectedLevel = 0;
                    }
                }
                console.log(selectedLevel);
                redraw();
            }
        })

    </script>
</body>

</html>