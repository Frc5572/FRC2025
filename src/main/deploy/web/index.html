<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coral Selector</title>
    <style>
        body {
            overflow: hidden;
            background-color: #1e1e1e;
        }

        #side {
            position: absolute;
            right: 0;
            top: 0;
            padding: 0px;
            background-color: #1e1e1e;
            border: 6px solid black;
            border-radius: 6px;
        }

        p {
            margin: 0;
            color: white;
        }

        .bad {
            background-color: #770000;
        }

        body.side-red path.team_color {
            fill: red;
        }

        body.side-blue path.team_color {
            fill: blue;
        }
    </style>
</head>

<body class="side-blue">
    <svg xmlns="http://www.w3.org/2000/svg" id="main" width="1920" height="800" viewBox="0 0 2592 1082"
        style="position:absolute; left: 0; top: 0;">
        <pattern id="diagonalHatch" width="10" height="10" patternTransform="rotate(-45 0 0)"
            patternUnits="userSpaceOnUse">
            <line x1="0" y1="0" x2="0" y2="10" style="stroke:red; stroke-width:5px" />
        </pattern>

        <g transform="translate(0, 1080)">
            <g transform="scale(1, -1)" id="content">
                <g id="outline">
                    <path class="team_color"
                        d="M30.3436,526.262L277.608,954.446L772.132,954.449L1019.39,526.267L772.127,98.0834L277.603,98.0807ZM51.1453,526.259L288.001,116.088L761.723,116.093L998.589,526.271L761.73,936.437L288.011,936.436Z"
                        fill="black" />
                </g>
                <g id="base-grey">
                    <path
                        d="M180.771,526.275L352.819,824.209L696.915,824.21L868.966,526.274L696.917,228.341L352.818,228.342Z"
                        fill="gray" stroke="gray" strokeWidth="8.42px" />
                </g>
                <g id="base-team">
                    <path class="team_color"
                        d="M335.708,526.271L430.29,690.057L619.453,690.057L714.037,526.27L619.455,362.485L430.29,362.486Z"
                        fill="black" />
                </g>
                <g id="algae1">
                    <path
                        d="M274.3450012207031,585.6031494140625C239.03500366210938,605.9852905273438,226.9225311279297,651.1790161132812,247.3090057373047,686.4818725585938C267.69549560546875,721.784912109375,312.89910888671875,733.89453125,348.2093811035156,713.512451171875C383.5196228027344,693.1304931640625,395.6317138671875,647.936767578125,375.2452392578125,612.6337280273438C354.8590087890625,577.3308715820312,309.6549987792969,565.2212524414062,274.3450012207031,585.6031494140625"
                        fill="green" />
                </g>
                <g id="algae2">
                    <path
                        d="M451.00177001953125,772.8541259765625C451.00177001953125,813.6181640625,484.09283447265625,846.7020874023438,524.8657836914062,846.7020874023438C565.6387939453125,846.7020874023438,598.7298583984375,813.6181640625,598.7298583984375,772.8541259765625C598.7298583984375,732.0899047851562,565.6387939453125,699.0059814453125,524.8657836914062,699.0059814453125C484.09283447265625,699.0059814453125,451.00177001953125,732.0899047851562,451.00177001953125,772.8541259765625"
                        fill="green" />
                </g>
                <g id="algae3">
                    <path
                        d="M775.3933715820312,585.5982666015625C740.0831298828125,565.2163696289062,694.8800048828125,577.3259887695312,674.4935302734375,612.6288452148438C654.1069946289062,647.931884765625,666.2191162109375,693.1256103515625,701.5293579101562,713.5075073242188C736.8396606445312,733.8896484375,782.0427856445312,721.780029296875,802.4293212890625,686.4769897460938C822.815673828125,651.1739501953125,810.70361328125,605.9804077148438,775.3933715820312,585.5982666015625"
                        fill="green" />
                </g>
                <g id="algae4">
                    <path
                        d="M701.52587890625,339.022216796875C666.215576171875,359.404296875,654.103515625,404.5980224609375,674.4900512695312,439.90087890625C694.8765258789062,475.2039794921875,740.0796508789062,487.3135986328125,775.389892578125,466.93145751953125C810.7001953125,446.549560546875,822.812255859375,401.3558349609375,802.42578125,366.052734375C782.039306640625,330.7498779296875,736.8361206054688,318.6402587890625,701.52587890625,339.022216796875"
                        fill="green" />
                </g>
                <g id="algae5">
                    <path
                        d="M451.00177001953125,279.692626953125C451.00177001953125,320.4566650390625,484.09283447265625,353.54052734375,524.8657836914062,353.54052734375C565.6387939453125,353.54052734375,598.7298583984375,320.4566650390625,598.7298583984375,279.692626953125C598.7298583984375,238.9283447265625,565.6387939453125,205.844482421875,524.8657836914062,205.844482421875C484.09283447265625,205.844482421875,451.00177001953125,238.9283447265625,451.00177001953125,279.692626953125"
                        fill="green" />
                </g>
                <g id="algae6">
                    <path
                        d="M348.2127685546875,339.0179443359375C312.90252685546875,318.6358642578125,267.6993713378906,330.74566650390625,247.31292724609375,366.04852294921875C226.92645263671875,401.3515625,239.0385284423828,446.54510498046875,274.3487854003906,466.92724609375C309.6590576171875,487.309326171875,354.8621826171875,475.19970703125,375.2486877441406,439.89666748046875C395.6351013183594,404.59381103515625,383.5230407714844,359.40008544921875,348.2127685546875,339.0179443359375"
                        fill="green" />
                </g>
                <g id="branch1">
                    <path
                        d="M401.67413330078125,676.417724609375C405.9881591796875,673.927490234375,407.4653015136719,668.4161376953125,404.9791259765625,664.11083984375C402.4929504394531,659.8057250976562,396.9803771972656,658.3289184570312,392.6663513183594,660.8189697265625C392.6663513183594,660.8189697265625,299.0701599121094,714.845458984375,299.0701599121094,714.845458984375C294.7563171386719,717.3356323242188,293.2791748046875,722.8468627929688,295.7653503417969,727.15234375C298.25152587890625,731.4573974609375,303.76409912109375,732.9342041015625,308.07794189453125,730.4442138671875C308.07794189453125,730.4442138671875,401.67413330078125,676.417724609375,401.67413330078125,676.417724609375"
                        fill="purple" />
                </g>
                <g id="branch2">
                    <path
                        d="M342.2226867675781,573.4669189453125C346.5367431640625,570.9766845703125,348.0138854980469,565.4652709960938,345.5277099609375,561.1600341796875C343.0415344238281,556.8549194335938,337.5289611816406,555.3781127929688,333.2149353027344,557.8681030273438C333.2149353027344,557.8681030273438,239.6187286376953,611.8945922851562,239.6187286376953,611.8945922851562C235.3048858642578,614.3848266601562,233.82774353027344,619.89599609375,236.3139190673828,624.2014770507812C238.80007934570312,628.506591796875,244.3126678466797,629.9833984375,248.62649536132812,627.4933471679688C248.62649536132812,627.4933471679688,342.2226867675781,573.4669189453125,342.2226867675781,573.4669189453125"
                        fill="purple" />
                </g>
                <g id="branch3">
                    <path
                        d="M333.21270751953125,494.6717529296875C337.5267333984375,497.1619873046875,343.039306640625,495.6851806640625,345.5254821777344,491.3798828125C348.0116271972656,487.0748291015625,346.5345153808594,481.563232421875,342.2204895019531,479.072998046875C342.2204895019531,479.072998046875,248.62429809570312,425.04693603515625,248.62429809570312,425.04693603515625C244.31045532226562,422.55670166015625,238.79782104492188,424.0335693359375,236.31170654296875,428.33880615234375C233.82553100585938,432.6439208984375,235.30267333984375,438.155517578125,239.61651611328125,440.6455078125C239.61651611328125,440.6455078125,333.21270751953125,494.6717529296875,333.21270751953125,494.6717529296875"
                        fill="purple" />
                </g>
                <g id="branch4">
                    <path
                        d="M392.66400146484375,391.720947265625C396.97802734375,394.2110595703125,402.4905700683594,392.734375,404.976806640625,388.4293212890625C407.4629211425781,384.12384033203125,405.98583984375,378.6124267578125,401.6717834472656,376.1224365234375C401.6717834472656,376.1224365234375,308.0755920410156,322.095947265625,308.0755920410156,322.095947265625C303.7617492675781,319.60595703125,298.2491149902344,321.082763671875,295.76300048828125,325.38800048828125C293.2768249511719,329.69329833984375,294.75396728515625,335.2044677734375,299.06781005859375,337.6947021484375C299.06781005859375,337.6947021484375,392.66400146484375,391.720947265625,392.66400146484375,391.720947265625"
                        fill="purple" />
                </g>
                <g id="branch5">
                    <path
                        d="M474.42803955078125,236.4678955078125C474.42803955078125,231.48760986328125,470.3926086425781,227.452880859375,465.4202575683594,227.452880859375C460.4479064941406,227.452880859375,456.4124755859375,231.48760986328125,456.4124755859375,236.4678955078125C456.4124755859375,236.4678955078125,456.4124755859375,344.52044677734375,456.4124755859375,344.52044677734375C456.4124755859375,349.500732421875,460.4479064941406,353.53546142578125,465.4202575683594,353.53546142578125C470.3926086425781,353.53546142578125,474.42803955078125,349.500732421875,474.42803955078125,344.52044677734375C474.42803955078125,344.52044677734375,474.42803955078125,236.4678955078125,474.42803955078125,236.4678955078125"
                        fill="purple" />
                </g>
                <g id="branch6">
                    <path
                        d="M593.3306884765625,236.4678955078125C593.3306884765625,231.48760986328125,589.2952880859375,227.452880859375,584.3229370117188,227.452880859375C579.3505859375,227.452880859375,575.3151245117188,231.48760986328125,575.3151245117188,236.4678955078125C575.3151245117188,236.4678955078125,575.3151245117188,344.52044677734375,575.3151245117188,344.52044677734375C575.3151245117188,349.500732421875,579.3505859375,353.53546142578125,584.3229370117188,353.53546142578125C589.2952880859375,353.53546142578125,593.3306884765625,349.500732421875,593.3306884765625,344.52044677734375C593.3306884765625,344.52044677734375,593.3306884765625,236.4678955078125,593.3306884765625,236.4678955078125"
                        fill="purple" />
                </g>
                <g id="branch7">
                    <path
                        d="M750.6809692382812,337.69317626953125C754.9949951171875,335.2030029296875,756.47216796875,329.69158935546875,753.9859619140625,325.38629150390625C751.4998168945312,321.0811767578125,745.9872436523438,319.6043701171875,741.6731567382812,322.09442138671875C741.6731567382812,322.09442138671875,648.0769653320312,376.12091064453125,648.0769653320312,376.12091064453125C643.7631225585938,378.611083984375,642.2860107421875,384.122314453125,644.7721557617188,388.42779541015625C647.2583618164062,392.73291015625,652.7709350585938,394.209716796875,657.0847778320312,391.71966552734375C657.0847778320312,391.71966552734375,750.6809692382812,337.69317626953125,750.6809692382812,337.69317626953125"
                        fill="purple" />
                </g>
                <g id="branch8">
                    <path
                        d="M810.13232421875,440.644287109375C814.4463500976562,438.154052734375,815.9234619140625,432.6427001953125,813.4373168945312,428.33740234375C810.951171875,424.03228759765625,805.4385986328125,422.55548095703125,801.1245727539062,425.0455322265625C801.1245727539062,425.0455322265625,707.5283203125,479.072021484375,707.5283203125,479.072021484375C703.2144775390625,481.56219482421875,701.7373657226562,487.0733642578125,704.2235107421875,491.37890625C706.709716796875,495.6839599609375,712.2222900390625,497.1607666015625,716.5361328125,494.6707763671875C716.5361328125,494.6707763671875,810.13232421875,440.644287109375,810.13232421875,440.644287109375"
                        fill="purple" />
                </g>
                <g id="branch9">
                    <path
                        d="M801.1221923828125,627.4944458007812C805.4362182617188,629.9844360351562,810.94873046875,628.5078125,813.4349365234375,624.2027587890625C815.9209594726562,619.8972778320312,814.4439697265625,614.3858642578125,810.1299438476562,611.8958740234375C810.1299438476562,611.8958740234375,716.53369140625,557.869384765625,716.53369140625,557.869384765625C712.2198486328125,555.3793334960938,706.7072143554688,556.8561401367188,704.2211303710938,561.1614379882812C701.7349243164062,565.4667358398438,703.2120971679688,570.9779052734375,707.5259399414062,573.4681396484375C707.5259399414062,573.4681396484375,801.1221923828125,627.4944458007812,801.1221923828125,627.4944458007812"
                        fill="purple" />
                </g>
                <g id="branch10">
                    <path
                        d="M741.6710205078125,730.4453125C745.9850463867188,732.935546875,751.4976806640625,731.458740234375,753.9838256835938,727.1534423828125C756.469970703125,722.848388671875,754.9928588867188,717.3367919921875,750.6788330078125,714.8465576171875C750.6788330078125,714.8465576171875,657.0826416015625,660.8204956054688,657.0826416015625,660.8204956054688C652.768798828125,658.3302612304688,647.2561645507812,659.8070678710938,644.77001953125,664.1123657226562C642.2838745117188,668.4174194335938,643.760986328125,673.9290161132812,648.0748291015625,676.4190673828125C648.0748291015625,676.4190673828125,741.6710205078125,730.4453125,741.6710205078125,730.4453125"
                        fill="purple" />
                </g>
                <g id="branch11">
                    <path
                        d="M593.3306884765625,708.014892578125C593.3306884765625,703.03466796875,589.2952880859375,698.9998779296875,584.3229370117188,698.9998779296875C579.3505859375,698.9998779296875,575.3151245117188,703.03466796875,575.3151245117188,708.014892578125C575.3151245117188,708.014892578125,575.3151245117188,816.0674438476562,575.3151245117188,816.0674438476562C575.3151245117188,821.0477294921875,579.3505859375,825.0824584960938,584.3229370117188,825.0824584960938C589.2952880859375,825.0824584960938,593.3306884765625,821.0477294921875,593.3306884765625,816.0674438476562C593.3306884765625,816.0674438476562,593.3306884765625,708.014892578125,593.3306884765625,708.014892578125"
                        fill="purple" />
                </g>
                <g id="branch12">
                    <path
                        d="M474.42803955078125,708.014892578125C474.42803955078125,703.03466796875,470.3926086425781,698.9998779296875,465.4202575683594,698.9998779296875C460.4479064941406,698.9998779296875,456.4124755859375,703.03466796875,456.4124755859375,708.014892578125C456.4124755859375,708.014892578125,456.4124755859375,816.0674438476562,456.4124755859375,816.0674438476562C456.4124755859375,821.0477294921875,460.4479064941406,825.0824584960938,465.4202575683594,825.0824584960938C470.3926086425781,825.0824584960938,474.42803955078125,821.0477294921875,474.42803955078125,816.0674438476562C474.42803955078125,816.0674438476562,474.42803955078125,708.014892578125,474.42803955078125,708.014892578125"
                        fill="purple" />
                </g>
                <g id="full-branch2" transform="scale(-1, 1) translate(-2592, 0) translate(30, 0)">
                    <path
                        d="m 1186.37,218.97 0,33.83326 -62.07,51.822 11.06,14.039 51.01,-43.058 0,311.25052 -67.57,64.304 13.25,12.714 54.32,-52.995 0,233.58122 -71.54,60.944 v 97.365 l 20,-0.65 v -88.83 l 71.54,-60.943 V 218.97 Z"
                        fill="purple" />
                </g>
                <g id="full-branch" transform="translate(30, 0)">
                    <path
                        d="m 1186.37,218.97 0,33.83326 -62.07,51.822 11.06,14.039 51.01,-43.058 0,311.25052 -67.57,64.304 13.25,12.714 54.32,-52.995 0,233.58122 -71.54,60.944 v 97.365 l 20,-0.65 v -88.83 l 71.54,-60.943 V 218.97 Z"
                        fill="purple" />
                </g>
                <g id="algae7">
                    <circle cx="1294.31" cy="449" r="80" fill="green" />
                </g>
                <g id="algae8">
                    <circle cx="1294.31" cy="808.2" r="80" fill="green" />
                </g>
                <g id="side-base">
                    <path d="M1069.26,220.286L1525.87,220.286L1525.87,0L1069.26,0Z" fill="gray" />
                </g>


                <g xmlns="http://www.w3.org/2000/svg" id="fdrl2-bg">
                    <path
                        d="M1630.18,930.52C1627.71,930.52,1625.24,930.52,1622.77,930.52C1622.77,913.32,1622.77,896.12,1622.77,878.93C1633.01,878.93,1643.24,878.93,1653.48,878.93C1653.48,881.15,1653.48,883.36,1653.48,885.58C1645.71,885.58,1637.95,885.58,1630.18,885.58C1630.18,900.56,1630.18,915.54,1630.18,930.52Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1687.37,888.76C1683.43,886.19,1679.58,884.68,1675.49,884.68C1668.99,884.68,1665.13,888.16,1664.07,894.89C1672.04,894.89,1680.01,894.89,1687.97,894.89C1687.97,907.44,1682.22,913.57,1673.22,913.57C1663.84,913.57,1657.34,906.61,1657.34,896.32C1657.34,886.94,1663.24,878.25,1673.83,878.25C1679.58,878.25,1683.28,879.53,1687.37,882.25C1687.37,884.42,1687.37,886.59,1687.37,888.76ZM1664.22,899.35C1665.13,904.72,1668.23,907.75,1673.37,907.75C1678.14,907.75,1681.09,904.49,1681.32,899.35C1675.62,899.35,1669.92,899.35,1664.22,899.35Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1712.86,930.52C1706.96,932.18,1703.10,930.82,1700.23,927.94C1697.50,925.22,1695.92,922.04,1695.92,915.39C1695.92,914.55,1695.92,913.72,1695.92,912.89C1694.33,912.89,1692.74,912.89,1691.15,912.89C1691.15,910.87,1691.15,908.86,1691.15,906.84C1692.74,906.84,1694.33,906.84,1695.92,906.84C1695.92,897.53,1695.92,888.23,1695.92,878.93C1698.16,878.93,1700.40,878.93,1702.65,878.93C1702.65,888.23,1702.65,897.53,1702.65,906.84C1704.69,906.84,1706.73,906.84,1708.77,906.84C1708.77,908.86,1708.77,910.87,1708.77,912.89C1706.73,912.89,1704.69,912.89,1702.65,912.89C1702.65,913.97,1702.65,915.06,1702.65,916.14C1702.65,921.36,1704.39,924.54,1709.83,924.54C1711.04,924.54,1711.72,924.39,1712.86,923.93C1712.86,926.13,1712.86,928.32,1712.86,930.52Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1722.01,919.93C1717.80,915.82,1713.59,911.71,1709.38,907.60C1709.38,907.34,1709.38,907.09,1709.38,906.84C1711.35,906.84,1713.31,906.84,1715.28,906.84C1715.28,900.86,1715.28,894.89,1715.28,888.91C1715.28,882.78,1718.99,878.25,1726.32,878.25C1728.52,878.25,1732.15,879.23,1734.49,880.52C1734.49,882.61,1734.49,884.70,1734.49,886.79C1731.77,885.13,1729.27,884.30,1726.85,884.30C1724.89,884.30,1722.01,885.43,1722.01,889.44C1722.01,895.24,1722.01,901.04,1722.01,906.84C1725.59,906.84,1729.17,906.84,1732.75,906.84C1732.75,908.86,1732.75,910.87,1732.75,912.89C1729.17,912.89,1725.59,912.89,1722.01,912.89C1722.01,915.24,1722.01,917.58,1722.01,919.93Z"
                        stroke="black" stroke-width="2px" fill="white" />
                </g>
                <g xmlns="http://www.w3.org/2000/svg" id="fdrc2-bg">
                    <path
                        d="M1902.84,930.52C1893.66,930.52,1884.48,930.52,1875.30,930.52C1875.30,913.32,1875.30,896.12,1875.30,878.93C1877.77,878.93,1880.24,878.93,1882.71,878.93C1882.71,886.92,1882.71,894.91,1882.71,902.91C1889.42,902.91,1896.13,902.91,1902.84,902.91C1902.84,905.12,1902.84,907.34,1902.84,909.56C1896.13,909.56,1889.42,909.56,1882.71,909.56C1882.71,914.33,1882.71,919.09,1882.71,923.86C1889.42,923.86,1896.13,923.86,1902.84,923.86C1902.84,926.08,1902.84,928.30,1902.84,930.52Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1936.12,884.98C1934.61,883.84,1933.24,883.16,1932.56,883.16C1931.73,883.16,1931.28,883.62,1931.28,884.90C1931.28,890.73,1931.28,896.55,1931.28,902.38C1931.28,910.09,1925.83,913.57,1918.95,913.57C1914.03,913.57,1910.32,912.06,1907.68,908.96C1907.68,906.51,1907.68,904.07,1907.68,901.62C1910.93,905.48,1914.71,907.22,1918.42,907.22C1922.50,907.22,1924.55,905.48,1924.55,901.24C1924.55,900.64,1924.55,900.03,1924.55,899.43C1922.55,898.72,1920.56,898.01,1918.57,897.31C1913.12,895.34,1907.00,893.30,1907.00,886.57C1907.00,882.18,1910.32,878.25,1915.32,878.25C1918.42,878.25,1921.52,879.38,1924.47,881.73C1925.08,879.30,1926.66,878.25,1929.61,878.25C1931.73,878.25,1933.02,878.85,1936.12,880.89C1936.12,882.25,1936.12,883.62,1936.12,884.98ZM1924.55,885.81C1922.73,884.07,1920.76,883.01,1918.65,883.01C1915.85,883.01,1913.80,884.98,1913.80,887.78C1913.80,891.79,1918.80,893.75,1924.55,895.72C1924.55,892.42,1924.55,889.11,1924.55,885.81Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1961.84,910.77C1958.28,912.66,1955.03,913.57,1951.85,913.57C1945.05,913.57,1940.66,910.09,1940.66,904.34C1940.66,895.19,1956.54,892.69,1956.54,888.00C1956.54,885.58,1954.27,884.30,1951.55,884.15C1948.83,884.15,1944.82,885.58,1940.43,888.61C1940.43,886.19,1940.43,883.77,1940.43,881.35C1944.82,879.08,1948.07,878.25,1952.23,878.25C1958.66,878.25,1963.43,882.25,1963.43,888.23C1963.43,891.71,1961.38,894.06,1955.79,897.76C1949.81,901.24,1947.54,903.06,1947.54,904.57C1947.54,906.39,1949.28,907.67,1952.00,907.67C1954.50,907.67,1958.06,906.61,1961.84,904.12C1961.84,906.33,1961.84,908.55,1961.84,910.77Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1979.08,919.93C1974.87,915.82,1970.66,911.71,1966.45,907.60C1966.45,907.34,1966.45,907.09,1966.45,906.84C1968.42,906.84,1970.39,906.84,1972.35,906.84C1972.35,900.86,1972.35,894.89,1972.35,888.91C1972.35,882.78,1976.06,878.25,1983.40,878.25C1985.59,878.25,1989.22,879.23,1991.57,880.52C1991.57,882.61,1991.57,884.70,1991.57,886.79C1988.84,885.13,1986.35,884.30,1983.93,884.30C1981.96,884.30,1979.08,885.43,1979.08,889.44C1979.08,895.24,1979.08,901.04,1979.08,906.84C1982.67,906.84,1986.25,906.84,1989.83,906.84C1989.83,908.86,1989.83,910.87,1989.83,912.89C1986.25,912.89,1982.67,912.89,1979.08,912.89C1979.08,915.24,1979.08,917.58,1979.08,919.93Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2024.77,888.76C2020.84,886.19,2016.98,884.68,2012.90,884.68C2006.39,884.68,2002.53,888.16,2001.48,894.89C2009.44,894.89,2017.41,894.89,2025.38,894.89C2025.38,907.44,2019.63,913.57,2010.63,913.57C2001.25,913.57,1994.74,906.61,1994.74,896.32C1994.74,886.94,2000.64,878.25,2011.23,878.25C2016.98,878.25,2020.69,879.53,2024.77,882.25C2024.77,884.42,2024.77,886.59,2024.77,888.76ZM2001.63,899.35C2002.53,904.72,2005.64,907.75,2010.78,907.75C2015.55,907.75,2018.50,904.49,2018.72,899.35C2013.02,899.35,2007.33,899.35,2001.63,899.35Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2052.38,910.77C2048.83,912.66,2045.58,913.57,2042.40,913.57C2035.59,913.57,2031.20,910.09,2031.20,904.34C2031.20,895.19,2047.09,892.69,2047.09,888.00C2047.09,885.58,2044.82,884.30,2042.10,884.15C2039.37,884.15,2035.36,885.58,2030.98,888.61C2030.98,886.19,2030.98,883.77,2030.98,881.35C2035.36,879.08,2038.62,878.25,2042.78,878.25C2049.21,878.25,2053.97,882.25,2053.97,888.23C2053.97,891.71,2051.93,894.06,2046.33,897.76C2040.36,901.24,2038.09,903.06,2038.09,904.57C2038.09,906.39,2039.83,907.67,2042.55,907.67C2045.05,907.67,2048.60,906.61,2052.38,904.12C2052.38,906.33,2052.38,908.55,2052.38,910.77Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2069.63,919.93C2065.42,915.82,2061.21,911.71,2057.00,907.60C2057.00,907.34,2057.00,907.09,2057.00,906.84C2058.96,906.84,2060.93,906.84,2062.90,906.84C2062.90,900.86,2062.90,894.89,2062.90,888.91C2062.90,882.78,2066.60,878.25,2073.94,878.25C2076.14,878.25,2079.77,879.23,2082.11,880.52C2082.11,882.61,2082.11,884.70,2082.11,886.79C2079.39,885.13,2076.89,884.30,2074.47,884.30C2072.50,884.30,2069.63,885.43,2069.63,889.44C2069.63,895.24,2069.63,901.04,2069.63,906.84C2073.21,906.84,2076.79,906.84,2080.37,906.84C2080.37,908.86,2080.37,910.87,2080.37,912.89C2076.79,912.89,2073.21,912.89,2069.63,912.89C2069.63,915.24,2069.63,917.58,2069.63,919.93Z"
                        stroke="black" stroke-width="2px" fill="white" />
                </g>
                <g xmlns="http://www.w3.org/2000/svg" id="fdrr2-bg">
                    <path
                        d="M2202.91,930.52C2202.91,913.32,2202.91,896.12,2202.91,878.93C2205.38,878.93,2207.85,878.93,2210.32,878.93C2210.32,886.39,2210.32,893.85,2210.32,901.32C2211.36,901.32,2212.39,901.32,2213.43,901.32C2217.21,901.32,2220.31,900.11,2227.12,889.52C2229.39,885.99,2231.66,882.46,2233.93,878.93C2236.88,878.93,2239.83,878.93,2242.78,878.93C2239.22,883.84,2237.92,885.57,2235.74,889.14C2231.81,895.57,2228.93,900.33,2224.24,903.44C2229.77,905.63,2232.87,910.09,2232.87,916.07C2232.87,924.99,2226.36,930.52,2215.92,930.52C2211.59,930.52,2207.25,930.52,2202.91,930.52ZM2210.32,924.16C2211.91,924.16,2213.50,924.16,2215.09,924.16C2222.28,924.16,2225.14,921.21,2225.23,916.37C2225.30,912.06,2223.03,907.97,2215.09,907.97C2213.50,907.97,2211.91,907.97,2210.32,907.97C2210.32,913.37,2210.32,918.77,2210.32,924.16Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2254.43,912.89C2252.18,912.89,2249.94,912.89,2247.69,912.89C2247.69,901.57,2247.69,890.25,2247.69,878.93C2249.94,878.93,2252.18,878.93,2254.43,878.93C2254.43,890.25,2254.43,901.57,2254.43,912.89Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2255.11,923.18C2255.11,925.37,2253.29,927.19,2251.10,927.19C2248.90,927.19,2247.09,925.37,2247.09,923.18C2247.09,920.98,2248.90,919.17,2251.10,919.17C2253.29,919.17,2255.11,920.98,2255.11,923.18ZM2291.19,912.89C2286.52,912.89,2281.86,912.89,2277.19,912.89C2268.04,912.89,2262.37,908.43,2262.37,901.17C2262.37,898.67,2262.96,896.54,2264.18,894.81C2265.47,893.00,2267.36,891.56,2269.86,890.50C2269.86,890.45,2269.86,890.40,2269.86,890.35C2266.60,889.59,2264.49,887.70,2264.49,885.51C2264.49,883.99,2265.54,882.63,2267.89,881.20C2261.99,879.76,2259.34,876.81,2259.34,871.82C2259.34,865.84,2265.85,861.53,2275.00,861.53C2285.06,861.53,2291.04,865.61,2291.04,872.35C2291.04,876.66,2288.46,880.35,2281.20,881.80C2274.39,883.16,2270.84,884.30,2270.84,886.19C2270.84,890.20,2280.07,887.78,2284.61,892.62C2286.20,894.21,2287.78,897.46,2287.78,900.26C2287.78,903.13,2286.88,905.02,2284.23,907.67C2286.55,907.67,2288.87,907.67,2291.19,907.67C2291.19,909.41,2291.19,911.15,2291.19,912.89ZM2281.73,901.09C2281.73,897.38,2279.01,894.74,2275.23,894.74C2271.14,894.74,2268.42,897.23,2268.42,900.94C2268.42,904.27,2271.45,907.07,2275.15,907.07C2278.71,907.07,2281.73,904.34,2281.73,901.09ZM2284.53,871.82C2284.53,868.71,2281.05,866.90,2275.15,866.90C2269.02,866.90,2265.70,868.71,2265.70,872.12C2265.70,875.14,2268.87,877.26,2273.41,877.26C2277.57,877.26,2284.53,876.13,2284.53,871.82Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2302.99,930.52C2300.74,930.52,2298.50,930.52,2296.26,930.52C2296.26,913.32,2296.26,896.12,2296.26,878.93C2298.50,878.93,2300.74,878.93,2302.99,878.93C2302.99,887.05,2302.99,895.16,2302.99,903.28C2306.17,906.84,2308.51,908.20,2311.46,908.20C2315.55,908.20,2318.12,904.95,2318.12,899.96C2318.12,892.95,2318.12,885.94,2318.12,878.93C2320.36,878.93,2322.61,878.93,2324.85,878.93C2324.85,885.86,2324.85,892.79,2324.85,899.73C2324.85,909.03,2319.93,913.57,2313.28,913.57C2309.49,913.57,2305.71,911.68,2303.14,908.43C2303.09,908.43,2303.04,908.43,2302.99,908.43C2302.99,915.79,2302.99,923.15,2302.99,930.52Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2342.10,919.93C2337.89,915.82,2333.67,911.71,2329.46,907.60C2329.46,907.34,2329.46,907.09,2329.46,906.84C2331.43,906.84,2333.40,906.84,2335.36,906.84C2335.36,900.86,2335.36,894.89,2335.36,888.91C2335.36,882.78,2339.07,878.25,2346.41,878.25C2348.60,878.25,2352.23,879.23,2354.58,880.52C2354.58,882.61,2354.58,884.70,2354.58,886.79C2351.85,885.13,2349.36,884.30,2346.94,884.30C2344.97,884.30,2342.10,885.43,2342.10,889.44C2342.10,895.24,2342.10,901.04,2342.10,906.84C2345.68,906.84,2349.26,906.84,2352.84,906.84C2352.84,908.86,2352.84,910.87,2352.84,912.89C2349.26,912.89,2345.68,912.89,2342.10,912.89C2342.10,915.24,2342.10,917.58,2342.10,919.93Z"
                        stroke="black" stroke-width="2px" fill="white" />
                </g>
                <g xmlns="http://www.w3.org/2000/svg" id="fdr-header">
                    <path
                        d="M1789.28,1044.74C1780.28,1044.74,1771.29,1044.74,1762.29,1044.74C1762.29,1027.88,1762.29,1011.02,1762.29,994.16C1764.71,994.16,1767.13,994.16,1769.56,994.16C1769.56,1002.00,1769.56,1009.83,1769.56,1017.67C1776.13,1017.67,1782.71,1017.67,1789.28,1017.67C1789.28,1019.84,1789.28,1022.02,1789.28,1024.19C1782.71,1024.19,1776.13,1024.19,1769.56,1024.19C1769.56,1028.87,1769.56,1033.54,1769.56,1038.21C1776.13,1038.21,1782.71,1038.21,1789.28,1038.21C1789.28,1040.39,1789.28,1042.56,1789.28,1044.74Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1823.92,1003.80C1820.06,1001.28,1816.28,999.80,1812.27,999.80C1805.89,999.80,1802.11,1003.21,1801.07,1009.81C1808.88,1009.81,1816.70,1009.81,1824.51,1009.81C1824.51,1022.12,1818.87,1028.12,1810.05,1028.12C1800.85,1028.12,1794.47,1021.30,1794.47,1011.22C1794.47,1002.02,1800.26,993.49,1810.64,993.49C1816.28,993.49,1819.91,994.75,1823.92,997.42C1823.92,999.55,1823.92,1001.67,1823.92,1003.80ZM1801.22,1014.18C1802.11,1019.45,1805.15,1022.41,1810.20,1022.41C1814.87,1022.41,1817.76,1019.23,1817.98,1014.18C1812.40,1014.18,1806.81,1014.18,1801.22,1014.18Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1859.44,1003.80C1855.58,1001.28,1851.80,999.80,1847.79,999.80C1841.42,999.80,1837.63,1003.21,1836.60,1009.81C1844.41,1009.81,1852.22,1009.81,1860.03,1009.81C1860.03,1022.12,1854.40,1028.12,1845.57,1028.12C1836.37,1028.12,1830.00,1021.30,1830.00,1011.22C1830.00,1002.02,1835.78,993.49,1846.16,993.49C1851.80,993.49,1855.43,994.75,1859.44,997.42C1859.44,999.55,1859.44,1001.67,1859.44,1003.80ZM1836.74,1014.18C1837.63,1019.45,1840.68,1022.41,1845.72,1022.41C1850.39,1022.41,1853.28,1019.23,1853.51,1014.18C1847.92,1014.18,1842.33,1014.18,1836.74,1014.18Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1895.92,1044.74C1893.72,1044.74,1891.52,1044.74,1889.32,1044.74C1889.32,1038.75,1889.32,1032.77,1889.32,1026.79C1886.65,1027.75,1884.58,1028.12,1882.35,1028.12C1872.64,1028.12,1865.74,1021.23,1865.74,1011.59C1865.74,1000.91,1871.97,994.16,1881.91,994.16C1886.58,994.16,1891.25,994.16,1895.92,994.16C1895.92,1011.02,1895.92,1027.88,1895.92,1044.74ZM1889.32,999.72C1887.10,999.72,1884.87,999.72,1882.65,999.72C1875.01,999.72,1872.49,1004.39,1872.49,1010.62C1872.49,1017.59,1876.79,1022.19,1883.17,1022.19C1885.39,1022.19,1887.10,1021.82,1889.32,1020.93C1889.32,1013.86,1889.32,1006.79,1889.32,999.72Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1932.78,1003.80C1928.93,1001.28,1925.14,999.80,1921.14,999.80C1914.76,999.80,1910.98,1003.21,1909.94,1009.81C1917.75,1009.81,1925.56,1009.81,1933.38,1009.81C1933.38,1022.12,1927.74,1028.12,1918.91,1028.12C1909.72,1028.12,1903.34,1021.30,1903.34,1011.22C1903.34,1002.02,1909.13,993.49,1919.51,993.49C1925.14,993.49,1928.78,994.75,1932.78,997.42C1932.78,999.55,1932.78,1001.67,1932.78,1003.80ZM1910.09,1014.18C1910.98,1019.45,1914.02,1022.41,1919.06,1022.41C1923.74,1022.41,1926.63,1019.23,1926.85,1014.18C1921.26,1014.18,1915.68,1014.18,1910.09,1014.18Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M1940.94,1027.46C1940.94,1016.36,1940.94,1005.26,1940.94,994.16C1943.14,994.16,1945.34,994.16,1947.54,994.16C1947.54,999.97,1947.54,1005.78,1947.54,1011.59C1947.54,1017.30,1951.10,1021.82,1955.62,1021.82C1957.18,1021.82,1959.78,1020.49,1961.78,1018.56C1962.94,1020.46,1964.10,1022.36,1965.27,1024.27C1962.52,1026.86,1960.00,1028.12,1957.33,1028.12C1954.22,1028.12,1951.03,1025.68,1947.69,1019.82C1947.64,1019.82,1947.59,1019.82,1947.54,1019.82C1947.54,1022.36,1947.54,1024.91,1947.54,1027.46C1945.34,1027.46,1943.14,1027.46,1940.94,1027.46Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2015.40,1041.84C2011.84,1044.22,2007.98,1045.40,2004.13,1045.40C1994.86,1045.40,1988.77,1040.14,1988.77,1031.91C1988.77,1018.04,2010.65,1016.85,2010.65,1006.40C2010.65,1003.58,2008.06,1000.02,2002.42,1000.02C1997.45,1000.02,1992.78,1002.61,1989.07,1007.36C1989.07,1004.29,1989.07,1001.23,1989.07,998.16C1993.30,994.97,1997.75,993.49,2003.24,993.49C2011.39,993.49,2017.40,999.28,2017.40,1007.21C2017.40,1023.30,1995.52,1023.16,1995.52,1032.87C1995.52,1036.43,1998.86,1038.88,2003.53,1038.88C2006.94,1038.88,2011.10,1037.69,2015.40,1033.61C2015.40,1036.36,2015.40,1039.10,2015.40,1041.84Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2032.16,1034.35C2028.03,1030.32,2023.90,1026.30,2019.77,1022.27C2019.77,1022.02,2019.77,1021.77,2019.77,1021.52C2021.70,1021.52,2023.63,1021.52,2025.56,1021.52C2025.56,1015.67,2025.56,1009.81,2025.56,1003.95C2025.56,997.94,2029.19,993.49,2036.39,993.49C2038.54,993.49,2042.10,994.46,2044.39,995.72C2044.39,997.77,2044.39,999.82,2044.39,1001.87C2041.72,1000.24,2039.28,999.42,2036.90,999.42C2034.98,999.42,2032.16,1000.54,2032.16,1004.47C2032.16,1010.15,2032.16,1015.84,2032.16,1021.52C2035.67,1021.52,2039.18,1021.52,2042.69,1021.52C2042.69,1023.50,2042.69,1025.48,2042.69,1027.46C2039.18,1027.46,2035.67,1027.46,2032.16,1027.46C2032.16,1029.76,2032.16,1032.06,2032.16,1034.35Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2074.95,1000.09C2073.47,998.98,2072.13,998.31,2071.46,998.31C2070.65,998.31,2070.20,998.76,2070.20,1000.02C2070.20,1005.73,2070.20,1011.44,2070.20,1017.15C2070.20,1024.71,2064.86,1028.12,2058.11,1028.12C2053.29,1028.12,2049.66,1026.64,2047.06,1023.60C2047.06,1021.20,2047.06,1018.81,2047.06,1016.41C2050.25,1020.19,2053.96,1021.90,2057.60,1021.90C2061.60,1021.90,2063.60,1020.19,2063.60,1016.04C2063.60,1015.44,2063.60,1014.85,2063.60,1014.26C2061.65,1013.56,2059.70,1012.87,2057.74,1012.18C2052.40,1010.25,2046.40,1008.25,2046.40,1001.65C2046.40,997.35,2049.66,993.49,2054.55,993.49C2057.60,993.49,2060.64,994.60,2063.53,996.90C2064.12,994.53,2065.68,993.49,2068.57,993.49C2070.65,993.49,2071.91,994.08,2074.95,996.09C2074.95,997.42,2074.95,998.76,2074.95,1000.09ZM2063.60,1000.91C2061.82,999.20,2059.89,998.16,2057.82,998.16C2055.07,998.16,2053.07,1000.09,2053.07,1002.84C2053.07,1006.77,2057.97,1008.69,2063.60,1010.62C2063.60,1007.38,2063.60,1004.15,2063.60,1000.91Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2088.52,1034.35C2084.39,1030.32,2080.26,1026.30,2076.14,1022.27C2076.14,1022.02,2076.14,1021.77,2076.14,1021.52C2078.06,1021.52,2079.99,1021.52,2081.92,1021.52C2081.92,1015.67,2081.92,1009.81,2081.92,1003.95C2081.92,997.94,2085.55,993.49,2092.75,993.49C2094.90,993.49,2098.46,994.46,2100.76,995.72C2100.76,997.77,2100.76,999.82,2100.76,1001.87C2098.09,1000.24,2095.64,999.42,2093.27,999.42C2091.34,999.42,2088.52,1000.54,2088.52,1004.47C2088.52,1010.15,2088.52,1015.84,2088.52,1021.52C2092.03,1021.52,2095.54,1021.52,2099.05,1021.52C2099.05,1023.50,2099.05,1025.48,2099.05,1027.46C2095.54,1027.46,2092.03,1027.46,2088.52,1027.46C2088.52,1029.76,2088.52,1032.06,2088.52,1034.35Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2112.25,1027.46C2110.05,1027.46,2107.85,1027.46,2105.65,1027.46C2105.65,1016.36,2105.65,1005.26,2105.65,994.16C2107.85,994.16,2110.05,994.16,2112.25,994.16C2112.25,1005.26,2112.25,1016.36,2112.25,1027.46Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2112.92,1037.54C2112.92,1039.69,2111.14,1041.47,2108.99,1041.47C2106.84,1041.47,2105.06,1039.69,2105.06,1037.54C2105.06,1035.39,2106.84,1033.61,2108.99,1033.61C2111.14,1033.61,2112.92,1035.39,2112.92,1037.54Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2137.32,1028.12C2127.38,1028.12,2119.74,1020.71,2119.74,1011.14C2119.74,1000.91,2127.08,993.49,2137.32,993.49C2148.00,993.49,2155.34,1000.61,2155.34,1011.14C2155.34,1021.01,2147.77,1028.12,2137.32,1028.12ZM2137.24,1022.19C2143.84,1022.19,2148.59,1017.52,2148.59,1011.07C2148.59,1003.87,2144.21,999.42,2137.24,999.42C2130.87,999.42,2126.49,1004.10,2126.49,1011.14C2126.49,1017.52,2131.01,1022.19,2137.24,1022.19Z"
                        stroke="black" stroke-width="2px" fill="white" />
                    <path
                        d="M2169.13,1027.46C2166.93,1027.46,2164.73,1027.46,2162.53,1027.46C2162.53,1016.36,2162.53,1005.26,2162.53,994.16C2164.73,994.16,2166.93,994.16,2169.13,994.16C2169.13,1002.12,2169.13,1010.08,2169.13,1018.04C2172.25,1021.52,2174.55,1022.86,2177.44,1022.86C2181.44,1022.86,2183.96,1019.67,2183.96,1014.78C2183.96,1007.90,2183.96,1001.03,2183.96,994.16C2186.16,994.16,2188.36,994.16,2190.56,994.16C2190.56,1001.01,2190.56,1007.85,2190.56,1014.70C2190.56,1023.82,2185.52,1028.12,2179.22,1028.12C2175.51,1028.12,2171.80,1026.27,2169.28,1023.08C2169.23,1023.08,2169.18,1023.08,2169.13,1023.08C2169.13,1024.54,2169.13,1026.00,2169.13,1027.46Z"
                        stroke="black" stroke-width="2px" fill="white" />
                </g>
                <g transform="translate(1654, 790) scale(0.2, 0.2) ">
                    <path
                        d="m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"
                        fill="red" />
                </g>
                <g transform="translate(2105, 790) scale(0.2, 0.2) ">
                    <path
                        d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Z"
                        fill="green" />
                </g>
                <g transform="translate(1654, 288.227) scale(0.2, -0.2) ">
                    <path
                        d="M620-520q25 0 42.5-17.5T680-580q0-25-17.5-42.5T620-640q-25 0-42.5 17.5T560-580q0 25 17.5 42.5T620-520Zm-280 0q25 0 42.5-17.5T400-580q0-25-17.5-42.5T340-640q-25 0-42.5 17.5T280-580q0 25 17.5 42.5T340-520Zm140 260q68 0 123.5-38.5T684-400h-66q-22 37-58.5 58.5T480-320q-43 0-79.5-21.5T342-400h-66q25 63 80.5 101.5T480-260Zm0 180q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Z"
                        fill="yellow" />
                </g>

            </g>
        </g>
    </svg>
    <div id="side">
        <p>Status: <span id="status" class="bad">Not Connected</span></p>
    </div>
    <script type="module">
        import { NT4_Client } from "./NT4.js"

        let status = document.getElementById("status");
        const CTRL_ID = "/web/ctrl";
        const RESP_ID = "/web/resp";

        const id_names = ["reef-a", "reef-b", "reef-c", "reef-d", "reef-e", "reef-f", "p0l", "p0r", "p1l", "p1r", "p2", "p3l", "p3r", "p4", "p5l", "p5r", "fdrl", "fdrf", "fdrr", "confx", "confy"];

        let client = new NT4_Client(
            window.location.hostname,
            "coral-selector",
            (topic) => {
                if (topic == RESP_ID) {
                    client.subscribe(RESP_ID, false);
                }
            },
            (topic) => {
                // Topic unannounce
            },
            (topic, timestamp, value) => {
                // Topic data
                if (topic.name == RESP_ID) {
                    for (let i = 0; i < id_names.length; i++) {
                        document.getElementById(id_names[i] + "").style = ((value[i] & 0x1) != 0) ? "" : "display: none";
                        let cross = document.getElementById(id_names[i] + "cross");
                        if (cross != null) {
                            cross.style = ((value[i] & 0x2) != 0) ? "" : "display: none";
                        }
                    }
                }
            },
            () => {
                // Connected
                status.classList.remove("bad");
                status.innerText = "Connected";
            },
            () => {
                // Disconnected
                status.classList.add("bad");
                status.innerText = "Not Connected";
            }
        );

        window.addEventListener("load", () => {
            // client.subscribe([], false, false, 0.02);
            client.publishTopic(CTRL_ID, "string");
            console.log("connecting")
            client.connect();
            client.subscribe("/web", true);
        });

        let main = document.getElementById("main");
        let content = document.getElementById("content");

        const REEF_LEFT_X = 0;
        const LEFT_X = 213.5645;
        const MID_X = 524.873;
        const RIGHT_X = 836.1805;
        const REEF_RIGHT_X = 1062.75;
        const LEFT_BRANCH_RIGHT_X = 1294.31;
        const RIGHT_BRANCH_RIGHT_X = 1525.87;
        const LEFT_FEEDER_RIGHT_X = 1825.87;
        const CONF_BUTTONS_RIGHT_X = 1975.87;
        const FAST_FEEDER_RIGHT_X = 2125.87;
        const FURTHEST_RIGHT_X = 2425.87;

        const L1_TOP_Y = 179.6;
        const CONF_BOTTOM_Y = 225.02;
        const ALGAE1_BOTTOM = 359.2;
        const MID_Y = 526.271;
        const CONF_MID_Y = 543.43;
        const ALGAE1_TOP = 538.8;
        const ALGAE2_BOTTOM = 718.4;
        const ALGAE2_TOP = 898;
        const FEEDER_BOTTOM_Y = 845.91;
        const FEEDER_TOP_Y = 966.69;
        const TOP_Y = 1077.62;

        const M1 = (TOP_Y - 0) / (RIGHT_X - LEFT_X);
        const B1 = TOP_Y - M1 * RIGHT_X;
        const M2 = (0 - TOP_Y) / (RIGHT_X - LEFT_X);
        const B2 = TOP_Y - M2 * LEFT_X;

        function drawPath(id, pathd, stroke, fill, style) {
            let g = document.createElementNS("http://www.w3.org/2000/svg", "g");
            let path = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path.setAttribute("d", pathd);
            path.setAttribute("stroke", stroke);
            path.setAttribute("stroke-width", "8px");
            path.setAttribute("fill", fill);
            g.appendChild(path);
            g.id = id;
            g.style = style;
            content.appendChild(g);
        }

        function createClipPath(id, pathd) {
            let g = document.createElementNS("http://www.w3.org/2000/svg", "clipPath");
            let path = document.createElementNS("http://www.w3.org/2000/svg", "path");
            path.setAttribute("d", pathd);
            g.appendChild(path);
            g.id = id;
            content.appendChild(g);
        }

        function drawBox(id, x1, y1, x2, y2, stroke, fill, style) {
            let pathd = "";
            pathd += "M" + x1 + "," + y1;
            pathd += "L" + x2 + "," + y1;
            pathd += "L" + x2 + "," + y2;
            pathd += "L" + x1 + "," + y2;
            pathd += "Z";
            drawPath(id, pathd, stroke, fill, style);
        }

        function createClipBox(id, x1, y1, x2, y2) {
            let pathd = "";
            pathd += "M" + x1 + "," + y1;
            pathd += "L" + x2 + "," + y1;
            pathd += "L" + x2 + "," + y2;
            pathd += "L" + x1 + "," + y2;
            pathd += "Z";
            createClipPath(id, pathd);
        }

        drawBox("fdr-bg", RIGHT_BRANCH_RIGHT_X, FEEDER_TOP_Y, FURTHEST_RIGHT_X, TOP_Y, "black", "transparent", "");
        let selectable_boxes = [
            // Feeder Station
            ["fdrl", RIGHT_BRANCH_RIGHT_X, FEEDER_BOTTOM_Y, LEFT_FEEDER_RIGHT_X, FEEDER_TOP_Y],
            ["fdrf", LEFT_FEEDER_RIGHT_X, FEEDER_BOTTOM_Y, FAST_FEEDER_RIGHT_X, FEEDER_TOP_Y],
            ["fdrr", FAST_FEEDER_RIGHT_X, FEEDER_BOTTOM_Y, FURTHEST_RIGHT_X, FEEDER_TOP_Y],
            // Confirm
            ["confx", RIGHT_BRANCH_RIGHT_X, CONF_MID_Y, CONF_BUTTONS_RIGHT_X, FEEDER_BOTTOM_Y],
            ["confy", CONF_BUTTONS_RIGHT_X, CONF_MID_Y, FURTHEST_RIGHT_X, FEEDER_BOTTOM_Y],
            ["confc", RIGHT_BRANCH_RIGHT_X, CONF_BOTTOM_Y, CONF_BUTTONS_RIGHT_X, CONF_MID_Y],
        ];
        // Reef branches
        const reef_heights = [0, L1_TOP_Y, ALGAE1_BOTTOM, ALGAE1_TOP, ALGAE2_BOTTOM, ALGAE2_TOP, TOP_Y];
        for (let i = 0; i < 6; i++) {
            if (i == 2 || i == 4) {
                selectable_boxes.push(["p" + i, REEF_RIGHT_X, reef_heights[i], RIGHT_BRANCH_RIGHT_X, reef_heights[i + 1]]);
            } else {
                selectable_boxes.push(["p" + i + "l", REEF_RIGHT_X, reef_heights[i], LEFT_BRANCH_RIGHT_X, reef_heights[i + 1]]);
                selectable_boxes.push(["p" + i + "r", LEFT_BRANCH_RIGHT_X, reef_heights[i], RIGHT_BRANCH_RIGHT_X, reef_heights[i + 1]]);
            }
        }

        const reefOutlines = [
            ["reef-a", "M524.873,526.271L829.164,0L220.581,0Z"],
            ["reef-b", "M524.873,526.271L1062.75,526.271L1062.75,0L829.164,0Z"],
            ["reef-c", "M524.873,526.271L843.197,1077.62L1062.75,1077.62L1062.75,526.271Z"],
            ["reef-d", "M524.873,526.271L206.548,1077.62L843.197,1077.62Z"],
            ["reef-e", "M524.873,526.271L0,526.271L0,1077.62L206.548,1077.62Z"],
            ["reef-f", "M524.873,526.271L220.581,0L0,0L0,526.271Z"],
        ];

        for (let i = 0; i < selectable_boxes.length; i++) {
            let sel = selectable_boxes[i];
            createClipBox(sel[0] + "-clip", sel[1], sel[2], sel[3], sel[4]);
        }
        for (let i = 0; i < reefOutlines.length; i++) {
            let sel = reefOutlines[i];
            createClipPath(sel[0] + "-clip", sel[1]);
        }

        for (let i = 0; i < selectable_boxes.length; i++) {
            let sel = selectable_boxes[i];
            drawBox(sel[0] + "-bg", sel[1], sel[2], sel[3], sel[4], "black", "transparent", "");
        }
        for (let i = 0; i < reefOutlines.length; i++) {
            let sel = reefOutlines[i];
            drawPath(sel[0] + "-bg", sel[1], "black", "transparent", "");
        }

        for (let i = 0; i < selectable_boxes.length; i++) {
            let sel = selectable_boxes[i];
            drawBox(sel[0], sel[1], sel[2], sel[3], sel[4], "#88ff88", "transparent", "display: none");
        }
        for (let i = 0; i < reefOutlines.length; i++) {
            let sel = reefOutlines[i];
            drawPath(sel[0], sel[1], "#88ff88", "transparent", "display: none");
        }

        for (let i = 0; i < selectable_boxes.length; i++) {
            let sel = selectable_boxes[i];
            drawBox(sel[0] + "cross", sel[1], sel[2], sel[3], sel[4], "transparent", "url(#diagonalHatch)", "display: none");
        }
        for (let i = 0; i < reefOutlines.length; i++) {
            let sel = reefOutlines[i];
            drawPath(sel[0] + "cross", sel[1], "transparent", "url(#diagonalHatch)", "display: none");
        }

        main.addEventListener("click", (ev) => {
            let x = (ev.clientX - main.clientLeft) / main.clientWidth * 2592;
            let y = 1077.62 - (ev.clientY - main.clientTop) / main.clientWidth * 2592;
            // console.log("x = " + x + ", y = " + y)

            if (y > TOP_Y || y < 0 || x < 0 || x > FURTHEST_RIGHT_X) {
                return;
            }
            if (x > REEF_LEFT_X && x < REEF_RIGHT_X) {
                // In reef
                let t1 = y > M1 * x + B1;
                let t2 = y > M2 * x + B2;
                let t3 = y > MID_Y;
                if (t3) {
                    if (!t1) {
                        client.addSample(CTRL_ID, "reef-c")
                    } else if (!t2) {
                        client.addSample(CTRL_ID, "reef-e")
                    } else {
                        client.addSample(CTRL_ID, "reef-d")
                    }
                } else {
                    if (t1) {
                        client.addSample(CTRL_ID, "reef-f")
                    } else if (t2) {
                        client.addSample(CTRL_ID, "reef-b")
                    } else {
                        client.addSample(CTRL_ID, "reef-a")
                    }
                }
            } else if (x < LEFT_BRANCH_RIGHT_X) {
                // Left branch
                for (let i = 0; i < reef_heights.length; i++) {
                    if (y < reef_heights[i]) {
                        if (i == 3 || i == 5) {
                            client.addSample(CTRL_ID, "p" + (i - 1));
                        } else {
                            client.addSample(CTRL_ID, "p" + (i - 1) + "l");
                        }
                        break;
                    }
                }
            } else if (x < RIGHT_BRANCH_RIGHT_X) {
                // Right Branch
                for (let i = 0; i < reef_heights.length; i++) {
                    if (y < reef_heights[i]) {
                        if (i == 3 || i == 5) {
                            client.addSample(CTRL_ID, "p" + (i - 1));
                        } else {
                            client.addSample(CTRL_ID, "p" + (i - 1) + "r");
                        }
                        break;
                    }
                }
            } else if (y > FEEDER_BOTTOM_Y) {
                if (y > FEEDER_TOP_Y) {
                    return;
                }
                // Feeder
                if (x < LEFT_FEEDER_RIGHT_X) {
                    client.addSample(CTRL_ID, "fdrl");
                } else if (x < FAST_FEEDER_RIGHT_X) {
                    client.addSample(CTRL_ID, "fdrf");
                } else {
                    client.addSample(CTRL_ID, "fdrr");
                }
            } else {
                if (x > CONF_BUTTONS_RIGHT_X) {
                    if (y > CONF_MID_Y) {
                        client.addSample(CTRL_ID, "confy");
                    }
                } else {
                    if (y > CONF_MID_Y) {
                        client.addSample(CTRL_ID, "confx");
                    } else if (y > CONF_BOTTOM_Y) {
                        client.addSample(CTRL_ID, "confc");
                    }
                }
            }
        })
    </script>
</body>

</html>